Usage:
{{- if .Runnable }}
  {{ .UseLine }}
{{- end }}
{{- if .HasAvailableSubCommands }} 
  {{ .CommandPath }} [subcommand]{{- if or .HasAvailableLocalFlags .HasAvailableInheritedFlags }} [flags]{{ end }}
{{- end }}
{{- if gt (len .Aliases) 0 }}

Aliases:
  {{ .NameAndAliases }}
{{- end }}
{{- if .HasExample }}

Examples:
  {{ .Example }}
{{- end }}
{{- if (and .HasAvailableSubCommands (eq (len .Groups) 0)) }}

Commands:
    {{- range .Commands }}
        {{- if (or .IsAvailableCommand (eq .Name "help")) }}
  {{ rpad .Name .NamePadding }} {{ .Short -}}
        {{- end }}
    {{- end }}
{{- end }}
{{- if .HasAvailableSubCommands }}
    {{- $cmds := .Commands }}
    {{- if gt (len .Groups) 0 }}
        {{- range $group := .Groups }}

{{ .Title }}:
            {{- range $i, $cmd := $cmds }}
                {{- if (and (eq .GroupID $group.ID) (or .IsAvailableCommand (eq .Name "help"))) }}
                    {{- if not .HasAvailableSubCommands }}                  
  {{ rpad .Name .NamePadding }} {{ .Short }}{{ end -}}
                    {{ if .HasAvailableSubCommands -}}
                        {{- $subCmds := $cmd.Commands }}
  {{ rpad .Name .NamePadding }} for help with the following subcommands type {{ printf "%s <subcommand> --help" .CommandPath | green }}
                        {{- range $j, $subCmd := $subCmds }}
                            {{- if (or .IsAvailableCommand (eq .Name "help")) }}
    {{ rpad .Name .NamePadding }} {{ .Short -}}
                            {{- end }}
                            {{- if eq $j (sub (len $subCmds) 1) }}
                                {{- if not (eq $i (sub (len $cmds) 1)) }}
                                    {{- printf "\n" }}
                                {{- end }}
                            {{- end }}
                        {{- end }}
                    {{- end }}
                {{- end }}
            {{- end }}
        {{- end }}
    {{- end }}
    {{- if (and (gt (len .Groups) 0) (not .AllChildCommandsHaveGroup)) }}

Additional Commands:
        {{- range $cmds }}
            {{- if (and (eq .GroupID "") (or .IsAvailableCommand (eq .Name "help"))) }}
  {{ rpad .Name .NamePadding }} {{ .Short -}}
            {{- end }}
        {{- end }}
    {{- end }}
{{- end }}
{{- if .HasAvailableLocalFlags }}

Flags:
{{ .LocalFlags.FlagUsages | trimTrailingWhitespaces }}
{{- end }}
{{- if .HasAvailableInheritedFlags }}

Global Flags:
{{ .InheritedFlags.FlagUsages | trimTrailingWhitespaces }}
{{- end }}
{{- if .HasHelpSubCommands }}

Additional help topics:
    {{- range .Commands }}
        {{- if .IsAdditionalHelpTopicCommand }}
  {{ rpad .CommandPath .CommandPathPadding }} {{ .Short }}
        {{- end }}
    {{- end }}
{{- end }}
{{- if .HasAvailableSubCommands }}

Use "{{ .CommandPath }} [command] --help" for more information about a command.
{{- end }}
